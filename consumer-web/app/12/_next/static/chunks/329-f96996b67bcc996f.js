(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{93773:function(e,r,t){var n={"./account-linking-guest.svg":[15967,15967],"./amazon-prime-activate-benefit.png":[84917,84917],"./amazon-prime-just-eat-logo.svg":[18257,18257],"./amazon-prime-lieferando-logo.svg":[64092,64092],"./amazon-prime-logo.svg":[52393,52393],"./benefit-activated.svg":[87436,87436],"./jet-plus.svg":[23044],"./something-went-wrong.svg":[85359,85359]};function i(e){if(!t.o(n,e))return Promise.resolve().then(function(){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=n[e],i=r[0];return Promise.all(r.slice(1).map(t.e)).then(function(){return t.t(i,17)})}i.keys=function(){return Object.keys(n)},i.id=93773,e.exports=i},72779:function(e,r){var t;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)&&t.length){var s=i.apply(null,t);s&&e.push(s)}else if("object"===o)for(var a in t)n.call(t,a)&&t[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(t=(function(){return i}).apply(r,[]))&&(e.exports=t)}()},55196:function(e,r,t){"use strict";t.d(r,{gd:function(){return ep},Af:function(){return eA},Wt:function(){return eb}});var n=t(58371),i=t(52322),o=t(2784),s=t(30253),a=t(29893),l=t(79624),c=t(5235),d=t(11265),u=t(13980),p=t.n(u),m=t(17807),g=t.n(m),h=t(69636);let f={isAccountLinkingEnabled:p().bool.isRequired,children:p().node.isRequired},b=e=>{let{isAccountLinkingEnabled:r,children:t}=e;return(0,i.jsx)("div",{className:g().page,children:(0,i.jsxs)("div",{className:g().wrapper,children:[r&&(0,i.jsx)(d.ZrN,{marginBottom:d.W0D.xdsSpacingD,children:(0,i.jsx)(h._,{})}),(0,i.jsx)("div",{className:g().box,children:t})]})})};b.propTypes=f;var x=t(37363);let v=(0,c.$)(e=>({isAccountLinkingEnabled:(0,x.DV)(e)}))(b);var y=t(85395),w=t.n(y),j=t(45256),_=t(89372),S=t(86633);let q={brandName:p().string.isRequired,translate:p().func.isRequired},k=e=>{let{brandName:r,translate:t}=e;return(0,i.jsx)(S.D,{title:`${t("createAccount")} | ${r}`})};k.propTypes=q;let R=w()((0,c.$)(e=>({brandName:(0,_.Or)(e)})),(0,j.CP)("user.forms"))(k);var P=t(68326),C=t(16541),V=t(14487),O=t(61615),E=t(83580),F=t(82056),N=t(98524),T=t(21115),D=t(99790),I=t(34291),A=t.n(I),L=t(13663);let M={passwordValidationError:p().arrayOf([p().oneOf([null]),p().object]),passwordTranslation:p().oneOfType([p().oneOf([null]),p().string]),name:p().string.isRequired,isProgressBarVisible:p().bool,translateCommon:p().func.isRequired,qaSelector:p().string.isRequired,maxlength:p().number,showTextLimitMessage:p().bool,onFocus:p().func},B={passwordValidationError:null,passwordTranslation:null,isProgressBarVisible:!0,maxlength:null,showTextLimitMessage:!1,onFocus:A()},W=e=>{let{passwordValidationError:r,passwordTranslation:t,name:n,isProgressBarVisible:o,translateCommon:s,qaSelector:a,maxlength:l,showTextLimitMessage:c,onFocus:u}=e;return(0,i.jsx)(d.p7w,{children:(0,i.jsx)(d.U2$,{children:(0,i.jsx)(V.ZI,{error:r,label:t||s("forms.newPassword"),placeholder:t||s("forms.newPassword"),name:n,isRequired:!0,maxlength:l,renderProgressBar:e=>o&&(0,i.jsx)(L._,{password:e}),qaSelector:(0,d.lJt)(a,"input-new-password"),autoComplete:"new-password",showTextLimitMessage:c,onFocus:u})})})};W.propTypes=M,W.defaultProps=B;var z=t(95863);let U=e=>{let{translateCommon:r}=e;return{password:P.Z_().required(r("forms.passwordMissingError")).test("passwordStrength",r("forms.passwordStrengthError"),w()(z.YV.analyzeString,z.YV.isSecure))}},Z=(0,j.CP)()(W);var $=t(98017),J=t(52870),X=t(5681),G=t(14206),H=t(44270),Y=t(32822),K=t(47388),Q=t(1119),ee=t(25263);let er="name",et="email";var en=t(24195),ei=t.n(en);let eo={translate:p().func.isRequired,onSignInClick:p().func.isRequired,termsAndConditionsUrl:p().string.isRequired,cookiePolicyUrl:p().string.isRequired,privacyStatementUrl:p().string.isRequired,nameValidationError:p().oneOfType([p().oneOf([null]),p().string]),emailValidationError:p().oneOfType([p().oneOf([null]),p().string]),newPasswordValidationError:p().arrayOf([p().oneOf([null]),p().string]),emailMaxLength:p().number.isRequired,formState:p().shape({isSubmitDisabled:p().bool,isSubmitting:p().bool}),onSubmit:p().func.isRequired,onFieldFocus:p().func.isRequired,removeInlineError:p().func.isRequired,isFieldRequired:p().shape({[er]:p().bool,[et]:p().bool,[T.t]:p().bool,[T.R]:p().bool}).isRequired,isSocialSignInDisabled:p().bool.isRequired,isMarketingPreferencesEnabled:p().bool.isRequired,qaSelector:p().string},es=e=>{let{translate:r,onSignInClick:t,termsAndConditionsUrl:n,privacyStatementUrl:o,cookiePolicyUrl:s,nameValidationError:a,emailValidationError:l,newPasswordValidationError:c,formState:{isSubmitDisabled:u,isSubmitting:p},onSubmit:m,onFieldFocus:g,removeInlineError:h,isFieldRequired:f,isSocialSignInDisabled:b,qaSelector:x,isMarketingPreferencesEnabled:v,emailMaxLength:y}=e,w=(0,Q.aC)(),j=(0,K.RN)(),_=(e,t)=>(0,i.jsx)(G.hh,{href:e,children:(0,i.jsx)("b",{children:r(t)})}),S=r("createAccountTermsAndConditionsOneWeb",{termsAndConditionsLink:_(n,"termsAndConditionsOneWeb"),cookiePolicyLink:_(s,"cookiePolicyOneWeb"),privacyStatementLink:_(o,"privacyStatementOneWeb")});return(0,i.jsxs)("form",{onSubmit:m,"data-qa":x,autoComplete:"off",noValidate:!0,children:[(0,i.jsx)(d.ZrN,{marginBottom:d.W0D.xdsSpacingD,children:(0,i.jsx)(d.X6q,{level:3,htmlLevel:1,modAutoLevel:!0,align:j?"center":"left",children:r("createAccount")})}),(0,i.jsx)(d.ZrN,{marginY:b&&j?d.W0D.xdsSpacingA:d.W0D.xdsSpacingD,children:(0,i.jsx)("div",{"data-dd-action-name":"create-account-socials",children:(0,i.jsx)(Y.n,{actionContext:C.Ui,useCustomGoogleButton:!0,useFullWidth:!0})})}),(0,i.jsx)(ee.o,{feature:ee.o.features.FACEBOOK_SIGN_IN||ee.o.features.GOOGLE_SIGN_IN,children:(0,i.jsx)(d.izJ,{label:r("dividerText")})}),(0,i.jsxs)(d.ZrN,{marginTop:d.W0D.xdsSpacingC,children:[(0,i.jsx)("div",{"data-dd-action-name":"create-account-name-input",children:(0,i.jsx)(H.R,{name:er,nameValidationError:a,isRequired:f[er],bottomOffset:"medium",qaSelector:(0,d.lJt)(x,"input-name"),onFocus:g})}),(0,i.jsx)(d.p7w,{children:(0,i.jsx)(d.U2$,{children:(0,i.jsx)("div",{"data-dd-action-name":"create-account-email-input",children:(0,i.jsx)(V.II,{onKeyUp:()=>{l&&h()},error:l,label:r("email"),placeholder:r("email"),type:"email",maxlength:y,name:et,isRequired:f[et],qaSelector:(0,d.lJt)(x,"input-email"),autoComplete:"new-password",novalidate:!0,onFocus:g})})})}),(0,i.jsx)("div",{"data-dd-action-name":"create-account-password-input",children:(0,i.jsx)(Z,{name:"password",passwordTranslation:r("password"),newPasswordValidationError:c,bottomOffset:"large",qaSelector:(0,d.lJt)(x,"input-new-password"),maxlength:100,onFocus:g})}),v&&(0,i.jsx)(d.p7w,{bottomOffset:"large",children:(0,i.jsx)(d.U2$,{children:(0,i.jsx)("div",{"data-dd-action-name":"create-account-legal-check",children:(0,i.jsx)(V.XZ,{name:"newsletter",qaSelector:(0,d.lJt)(x,"check-legal"),children:r("newsletter")})})})}),(0,i.jsx)(d.ZrN,{marginY:d.W0D.xdsSpacingE,children:(0,i.jsx)("div",{"data-dd-action-name":"create-account-submit-button",children:(0,i.jsx)(d.kCb,{justifyContent:"end",children:(0,i.jsx)(d.zxk,{type:"submit",modFluid:!0,size:j?"small":"medium",disabled:u,qaSelector:(0,d.lJt)(x,"action-submit"),children:r("createAccount")})})})}),(0,i.jsx)(d.ZrN,{marginBottom:d.W0D.xdsSpacingE,children:(0,i.jsx)("div",{"data-dd-action-name":"create-account-login-link",children:(0,i.jsx)(d.xvT,{align:"center",children:r("alreadyHaveAnAccount",{signInLink:(0,i.jsx)(G.hh,{size:"small",onClick:()=>t(w.signinRedirect),onKeyUp:()=>t(w.signinRedirect),qaSelector:(0,d.lJt)(x,"action-sign-in"),children:r("logIn")})})})})}),(0,i.jsx)(d.xvT,{align:"center",size:d.W0D.xdsFontSize12,className:ei()["terms-and-conditions-text"],children:S})]}),(0,i.jsx)(d.gbz,{isActive:p})]})};es.propTypes=eo,es.defaultProps={nameValidationError:null,emailValidationError:null,newPasswordValidationError:null,formState:{isSubmitDisabled:!1,isSubmitting:!1},qaSelector:"create_account-form"};var ea=t(83963);let el={mode:"onBlur",shouldResetFormOnSubmit:!0,resetFields:[T.t],translationKey:"user.forms",buildValidationSchema:(e,r,t)=>{let{translate:n}=e;return P.Ry().shape((0,D.F)(e,er,r,t,"nameOnlyLettersError")).shape(U(e)).shape({[et]:P.Z_().email(n("emailInvalidError")).required(n("emailInvalidError"))})}},ec={onSubmit:O.ax,onSignInClick:e=>(0,$.jt)(C.Ui,e),removeInlineError:()=>(0,N.$K)(F.XD),onFieldFocus:ea.T},ed=(0,V.Ls)(el,(e,r)=>{let{translate:t,translateCommon:n}=r,i=(0,E.LV)(e),o=(0,E.Dx)(e),s=(0,E.Pq)(e),a=(0,X.Ed)(e),l=(0,J.$p)(e),c=(0,X.a6)(e,el,t,n),d=(0,X.jB)(e,el,t,n);return{termsAndConditionsUrl:i,privacyStatementUrl:o,cookiePolicyUrl:s,nameValidationError:(0,X.EK)(e,t),emailValidationError:(0,X.OU)(e,t),newPasswordValidationError:(0,X.F6)(e,t),emailMaxLength:(0,X.MA)(e),isFieldRequired:d,validationSchema:c,isSocialSignInDisabled:a,isMarketingPreferencesEnabled:l}},ec)(es),eu=(0,i.jsx)(a.p2.Provider,{value:a.pl,children:(0,i.jsx)(l.P,{})}),ep=(0,n.X)(()=>(0,i.jsx)(a.p2.Provider,{value:a.pl,children:(0,i.jsx)(s.T,{contentMode:"full",footerProps:{modExpandedFooter:!1},headerProps:{isLocationVisible:!1,showBackButton:!0,logoProps:{modResponsive:!0},aria:{back:"accountButton"}},isLocationPanelModalRequired:!1,notification:eu,modNoPadding:!0,seo:(0,i.jsx)(R,{}),children:(0,i.jsx)(v,{children:(0,i.jsx)(ed,{})})})})),em={isAuthenticatingWithOIDC:p().bool.isRequired,requestSignInOIDC:p().func.isRequired},eg=e=>{let{isAuthenticatingWithOIDC:r,requestSignInOIDC:t}=e,n=(0,Q.aC)();return n.isLoading||r||t(n),(0,i.jsx)(d.gbz,{isActive:!0})};eg.propTypes=em;let eh={requestSignInOIDC:$.Lu},ef=(0,c.$)(e=>({isAuthenticatingWithOIDC:(0,$.sZ)(e)}),eh)(eg),eb=(0,n.X)(ef);var ex=t(17128),ev=t(6245),ey=t(14709);let ew="username",ej={emailValidationError:p().oneOfType([p().oneOf([null]),p().string]),translate:p().func.isRequired,formState:p().shape({dirty:p().bool,isSubmitting:p().bool}),onSubmit:p().func.isRequired,isFieldRequired:p().shape({[ew]:p().bool}).isRequired,qaSelector:p().string,onForgotPasswordFormStarted:p().func.isRequired,onPageOpened:p().func.isRequired},e_=e=>{let{translate:r,emailValidationError:t,formState:{isDirty:n,isSubmitting:s},onSubmit:a,onForgotPasswordFormStarted:l,isFieldRequired:c,qaSelector:u,onPageOpened:p}=e,[m,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{p()},[p]),(0,o.useEffect)(()=>{m&&l()},[m,l]);let h=s||!n;return(0,i.jsxs)("form",{onSubmit:a,"data-qa":u,noValidate:!0,children:[(0,i.jsx)(d.p7w,{children:(0,i.jsx)(d.U2$,{children:(0,i.jsx)(V.II,{label:r("email"),placeholder:r("email"),type:"email",name:ew,isRequired:c[ew],error:t,qaSelector:(0,d.lJt)(u,"input-email"),novalidate:!0,onFocus:()=>g(!0)})})}),(0,i.jsx)(d.ZrN,{marginTop:d.W0D.xdsSpacingE,children:(0,i.jsx)(d.zxk,{type:"submit",modFluid:!0,size:"medium",disabled:h,qaSelector:(0,d.lJt)(u,"action-submit"),children:r("forgotPasswordSubmit")})}),(0,i.jsx)(d.gbz,{isActive:s})]})};e_.defaultProps={emailValidationError:null,formState:{isDirty:!1,isSubmitting:!1},qaSelector:"forgot-password-form"},e_.displayName="ForgotPasswordForm",e_.propTypes=ej;let eS={shouldResetFormOnSubmit:!0,translationKey:"user.forms",buildValidationSchema:e=>{let{translate:r}=e;return P.Ry().shape({[ew]:P.Z_().email(r("emailInvalidError")).required(r("emailInvalidError"))})}},eq={onSubmit:(e,r)=>(0,ey.Xg)(e[ew],r),onPageOpened:ey.aT,onForgotPasswordFormStarted:ey.tQ},ek=(0,V.Ls)(eS,(e,r)=>{let{translate:t}=r,n=(0,ev.M0)(e,eS,t);return{emailValidationError:(0,ev.Rz)(e,t),isFieldRequired:n}},eq)(e_),eR={qaSelector:p().string,translate:p().func.isRequired,resetToInputForm:p().func.isRequired,redirectToLogin:p().func.isRequired},eP=e=>{let{qaSelector:r,translate:t,resetToInputForm:n,redirectToLogin:o}=e,s=(0,Q.aC)();return(0,i.jsxs)(d.ZrN,{"data-qa-selector":r,children:[(0,i.jsxs)(d.P_k,{isOpen:!0,mode:"info",showClose:!1,modInline:!0,children:[(0,i.jsx)(d.X6q,{level:6,children:t("forgotPasswordConfirmationHeader")}),(0,i.jsx)(d.xvT,{children:t("forgotPasswordConfirmationContent")})]}),(0,i.jsx)(d.ZrN,{marginTop:d.W0D.xdsSpacingD,marginBottom:d.W0D.xdsSpacingD,children:(0,i.jsx)(d.zxk,{onClick:()=>o(s.signinRedirect),size:"medium",modFluid:!0,children:t("goToLogin")})}),(0,i.jsx)(d.ZrN,{marginBottom:d.W0D.xdsSpacingD,children:(0,i.jsx)(d.zxk,{onClick:n,mode:"outline",size:"medium",modFluid:!0,children:t("tryAnotherEmail")})})]})};eP.propTypes=eR,eP.defaultProps={qaSelector:"forgot-password-confirmation"},eP.displayName="ForgotPasswordConfirmation";let eC=w()((0,j.CP)("user.forgotPassword"),(0,c.$)(null,(e,r)=>{let{actionContext:t}=r;return{redirectToLogin:r=>e((0,$.jt)(t,r)),resetToInputForm:()=>e((0,ey.yH)())}}))(eP),eV={qaSelector:p().string,translate:p().func.isRequired,showForgotPasswordConfirmation:p().bool.isRequired,onHideForgotPasswordConfirmation:p().func.isRequired},eO=e=>{let{qaSelector:r,translate:t,showForgotPasswordConfirmation:n,onHideForgotPasswordConfirmation:s}=e,a=(0,K.RN)();return(0,o.useEffect)(()=>()=>{s()},[s]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.X6q,{level:3,htmlLevel:1,modAutoLevel:!0,color:d.W0D.xdsColorContentDefault,align:a?"center":"left",qaSelector:(0,d.lJt)(r,"heading"),children:t("pageTitle")}),(0,i.jsx)("br",{}),n?(0,i.jsx)(eC,{}):(0,i.jsx)(ek,{})]})};eO.propTypes=eV,eO.defaultProps={qaSelector:"forgot-password-page"};let eE={onHideForgotPasswordConfirmation:ey.yH},eF=w()((0,ex.$j)(e=>({showForgotPasswordConfirmation:(0,ey.Vv)(e)}),eE),(0,j.CP)("user.forgotPassword"))(eO),eN={brandName:p().string.isRequired,translate:p().func.isRequired},eT=e=>{let{brandName:r,translate:t}=e;return(0,i.jsx)(S.D,{title:`${t("pageTitle")} | ${r}`})};eT.propTypes=eN;let eD=w()((0,c.$)(e=>({brandName:(0,_.Or)(e)})),(0,j.CP)("user.forgotPassword"))(eT),eI=(0,i.jsx)(a.p2.Provider,{value:a.pl,children:(0,i.jsx)(l.P,{})}),eA=(0,n.X)(()=>(0,i.jsx)(a.p2.Provider,{value:a.pl,children:(0,i.jsx)(s.T,{contentMode:"full",footerProps:{modExpandedFooter:!1},headerProps:{isLocationVisible:!1,showBackButton:!0,showCountrySelector:!1,showLangSwitch:!1,logoProps:{modResponsive:!0},aria:{back:"forgotPasswordButton"}},isLocationPanelModalRequired:!1,notification:eI,modNoPadding:!0,seo:(0,i.jsx)(eD,{}),children:(0,i.jsx)(v,{children:(0,i.jsx)(eF,{})})})}))},69636:function(e,r,t){"use strict";t.d(r,{_:function(){return w}});var n=t(5235),i=t(85395),o=t.n(i),s=t(45256),a=t(89372),l=t(57460),c=t(52322),d=t(2784),u=t(13980),p=t.n(u),m=t(11265),g="/consumer-web/images/lieferando.904e7f56.svg",h=t(44940);let f={[h.ns]:{src:g,alt:h.ns,width:"85px"},[h.JU]:{src:g,alt:h.JU,width:"85px"},[h.jg]:{src:"/consumer-web/images/just-eat.dc3bb756.svg",alt:h.jg,width:"85px"}},b={partnerLogoProps:p().shape({fileName:p().string.isRequired,alt:p().string.isRequired,width:p().string.isRequired}).isRequired,brand:p().string.isRequired,translate:p().func.isRequired,qaSelector:p().string,trackAccountLinkingBanner:p().func.isRequired,context:p().string},x=e=>{let{partnerLogoProps:r,brand:n,translate:i,qaSelector:o,trackAccountLinkingBanner:s,context:a}=e,[u,p]=(0,d.useState)("");return(0,d.useEffect)(()=>{s(a)},[a,s]),(0,d.useEffect)(()=>{r.fileName&&t(93773)(`./${r.fileName}`).then(e=>{p(e.default)})},[r]),u&&f[n]&&(0,c.jsx)(m.POo,{leadingImageProps:(0,l._)({src:u},r),trailingImageProps:f[n],qaSelector:o,children:i("title")})};x.propTypes=b,x.defaultProps={qaSelector:"account-linking-banner",context:null};var v=t(37363);let y={trackAccountLinkingBanner:v.xq},w=o()((0,s.CP)("accountLinking.banner"),(0,n.$)(e=>({partnerLogoProps:(0,v.G0)(e),brand:(0,a.Or)(e)}),y))(x)},24195:function(e){e.exports={"create-account-img-social-sign-in":"create-account-form-style_create-account-img-social-sign-in__aGvC2","create-account-img":"create-account-form-style_create-account-img__S_CZI","terms-and-conditions-text":"create-account-form-style_terms-and-conditions-text__l_mdT",snacksAnimationRotate360:"create-account-form-style_snacksAnimationRotate360__o_JAh",shimmer:"create-account-form-style_shimmer___FqBH",pulse:"create-account-form-style_pulse__UnD8d",bgVerticalSlide:"create-account-form-style_bgVerticalSlide__AYpZA",shrinkBounce:"create-account-form-style_shrinkBounce__0GZRx",checkboxCheck:"create-account-form-style_checkboxCheck__lWiSe",leaves:"create-account-form-style_leaves__9zMD9"}},17807:function(e){e.exports={page:"page-content-style_page__8siDQ",wrapper:"page-content-style_wrapper__VavlQ",box:"page-content-style_box__7bORf",snacksAnimationRotate360:"page-content-style_snacksAnimationRotate360__i64OY",shimmer:"page-content-style_shimmer__HygTf",pulse:"page-content-style_pulse__d9ULZ",bgVerticalSlide:"page-content-style_bgVerticalSlide__jX53Y",shrinkBounce:"page-content-style_shrinkBounce__SGM1l",checkboxCheck:"page-content-style_checkboxCheck__Qwd_N",leaves:"page-content-style_leaves__FRmDH"}},97704:function(e,r,t){"use strict";t.d(r,{YD:function(){return u},df:function(){return d}});var n=t(2784);function i(){return(i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var o=new Map,s=new WeakMap,a=0;function l(e,r,t){if(void 0===t&&(t={}),!e)return function(){};var n=function(e){var r=Object.keys(e).sort().filter(function(r){return void 0!==e[r]}).map(function(r){var t;return r+"_"+("root"===r?(t=e.root)?(s.has(t)||(a+=1,s.set(t,a.toString())),s.get(t)):"0":e[r])}).toString(),t=o.get(r);if(!t){var n,i=new Map,l=new IntersectionObserver(function(r){r.forEach(function(r){var t,o=r.isIntersecting&&n.some(function(e){return r.intersectionRatio>=e});e.trackVisibility&&void 0===r.isVisible&&(r.isVisible=o),null==(t=i.get(r.target))||t.forEach(function(e){e(o,r)})})},e);n=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:r,observer:l,elements:i},o.set(r,t)}return t}(t),i=n.id,l=n.observer,c=n.elements,d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(r),l.observe(e),function(){d.splice(d.indexOf(r),1),0===d.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),o.delete(i))}}function c(e){return"function"!=typeof e.children}var d=function(e){function r(r){var t;return(t=e.call(this,r)||this).node=null,t._unobserveCb=null,t.handleNode=function(e){!t.node||(t.unobserve(),e||t.props.triggerOnce||t.props.skip||t.setState({inView:!!t.props.initialInView,entry:void 0})),t.node=e||null,t.observeNode()},t.handleChange=function(e,r){e&&t.props.triggerOnce&&t.unobserve(),c(t.props)||t.setState({inView:e,entry:r}),t.props.onChange&&t.props.onChange(e,r)},t.state={inView:!!r.initialInView,entry:void 0},t}r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var t=r.prototype;return t.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,r=e.threshold,t=e.root,n=e.rootMargin,i=e.trackVisibility,o=e.delay;this._unobserveCb=l(this.node,this.handleChange,{threshold:r,root:t,rootMargin:n,trackVisibility:i,delay:o})}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!c(this.props)){var e=this.state,r=e.inView,t=e.entry;return this.props.children({inView:r,entry:t,ref:this.handleNode})}var o=this.props,s=o.children,a=o.as,l=o.tag,d=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r.indexOf(t=o[n])>=0||(i[t]=e[t]);return i}(o,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,n.createElement)(a||l||"div",i({ref:this.handleNode},d),s)},r}(n.Component);function u(e){var r=void 0===e?{}:e,t=r.threshold,i=r.delay,o=r.trackVisibility,s=r.rootMargin,a=r.root,c=r.triggerOnce,d=r.skip,u=r.initialInView,p=(0,n.useRef)(),m=(0,n.useState)({inView:!!u}),g=m[0],h=m[1],f=(0,n.useCallback)(function(e){void 0!==p.current&&(p.current(),p.current=void 0),!d&&e&&(p.current=l(e,function(e,r){h({inView:e,entry:r}),r.isIntersecting&&c&&p.current&&(p.current(),p.current=void 0)},{root:a,rootMargin:s,threshold:t,trackVisibility:o,delay:i}))},[Array.isArray(t)?t.toString():t,a,s,c,d,o,i]);(0,n.useEffect)(function(){p.current||!g.entry||c||d||h({inView:!!u})});var b=[f,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}d.displayName="InView",d.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}}}]);